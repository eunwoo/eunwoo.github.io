https://github.com/micro-os-plus/micro-os-plus-iii-cortexm/blob/117e1bb2783b08b27d6bc14c520d21a7e0b26a0b/src/rtos/port/os-core.cpp  

